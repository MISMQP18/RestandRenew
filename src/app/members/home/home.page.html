<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="logout()">
                <ion-icon slot="icon-only" name="log-out"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>Habit Tracker</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content color="primary">
    <ion-item>
        <ion-label style="text-align: center">Welcome Back! <br> Today's Date: {{formattedDate}}</ion-label>
    </ion-item>


    <p>
        <ion-button style="padding: 2%" class="button button-large button-positive" color="light">M</ion-button>
        <ion-button style="padding: 2%" class="button button-large button-positive" color="light">T</ion-button>
        <ion-button style="padding: 2%" class="button button-large button-positive" color="light">W</ion-button>
        <ion-button style="padding: 2%" class="button button-large button-positive" color="light">Th</ion-button>
        <ion-button style="padding: 2%" class="button button-large button-positive" color="light">F</ion-button>
    </p>

    <p margin="auto">
        <ion-button class="button button-block button-positive" (click)="toggleNamedColor(); btnClicked()" [color]="ionicNamedColor">Drink Water</ion-button>
    </p>
    <p margin="auto">
        <ion-button class="button button-block button-positive" (click)="toggleNamedColor2(); btnClicked()" [color]="ionicNamedColor2">Take a Walk</ion-button>
    </p>
    <p margin="auto">
        <ion-button class="button button-block button-positive" (click)="toggleNamedColor3(); btnClicked()" [color]="ionicNamedColor3">Deep Breath</ion-button>
    </p>
    <p margin="auto">
        <ion-button class="button button-block button-positive" color="light" (click)="openEditHabitPage()">Add New Habit!</ion-button>
    </p>

    //calendar start

    <ion-content padding>
        <div class="calendar-header">
            <ion-row class="calendar-month">
                <ion-col col-2 (click)="goToLastMonth()"><ion-icon name="arrow-back"></ion-icon></ion-col>
                <ion-col col-8>{{currentMonth}} {{currentYear}}</ion-col>
                <ion-col col-2 (click)="goToNextMonth()"><ion-icon name="arrow-forward"></ion-icon></ion-col>
            </ion-row>
        </div>
        <div class="calendar-body">
            <ion-grid>
                <ion-row class="calendar-weekday">
                    <ion-col>Su</ion-col>
                    <ion-col>Mo</ion-col>
                    <ion-col>Tu</ion-col>
                    <ion-col>We</ion-col>
                    <ion-col>Th</ion-col>
                    <ion-col>Fr</ion-col>
                    <ion-col>Sa</ion-col>
                </ion-row>
                <ion-row class="calendar-date">
                    <ion-col col-1 *ngFor="let lastDay of daysInLastMonth" class="last-month" (click)="goToLastMonth()">{{lastDay}}</ion-col>
                    <ion-col col-1 *ngFor="let day of daysInThisMonth" (click)="selectDate(day)">
                        <span class="currentDate" *ngIf="currentDate === day; else otherDate">{{day}}</span>
                        <ng-template #otherDate class="otherDate">
                            {{day}}<br>
                            <div class="event-bullet" *ngIf="checkEvent(day)"></div>
                        </ng-template>
                    </ion-col>
                    <ion-col col-1 *ngFor="let nextDay of daysInNextMonth" class="next-month" (click)="goToNextMonth()">{{nextDay}}</ion-col>
                </ion-row>
            </ion-grid>
        </div>
        <div class="selected-event" *ngIf="isSelected">
            <ion-list>
                <ion-item *ngFor="let se of selectedEvent">
                    <ion-buttons end>
                        <button ion-button clear icon-only (click)="deleteEvent(se)">
                            <ion-icon name="close"></ion-icon>
                        </button>
                    </ion-buttons>
                    <h2>{{se.title}}</h2>
                    <h3>{{se.message}}</h3>
                    <p>Start Date: {{se.startDate}}<br>
                        Start Date: {{se.endDate}}</p>
                </ion-item>
            </ion-list>
        </div>
    </ion-content>

</ion-content>
